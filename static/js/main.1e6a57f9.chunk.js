(this["webpackJsonpgithub-users-list"]=this["webpackJsonpgithub-users-list"]||[]).push([[0],{78:function(e,a,t){e.exports=t(91)},83:function(e,a,t){},84:function(e,a,t){},91:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),c=t.n(l),i=(t(83),t(84),t(23)),o=t(12),s=t(52),u=t(53),m=t(61),d=t(60),g=t(4),p=t(125),h=t(129),E=t(128),f=t(126),b=t(127),v=t(122),O=t(133),j=t(130),C=t(39),w=t.n(C),y=t(38),S=t.n(y),k=t(62),F=t(132),N=function(){return{modalPaper:{position:"absolute",width:500,backgroundColor:"#fff",boxShadow:3,textAlign:"center",padding:20,outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},textField:{marginLeft:10,marginRight:10,width:250},button:{margin:10}}},x=Object(g.a)(N)((function(e){var a=e.classes,t=e.handleClose,n=e.isOpen,l=e.children,c=Object(k.a)(e,["classes","handleClose","isOpen","children"]);return r.a.createElement(F.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:n,onClose:t},r.a.createElement("div",{className:a.modalPaper},r.a.createElement(l,c)))})),U=t(121),D=t(131),P=t(123),L=Object(g.a)((function(){return{textField:{marginLeft:10,marginRight:10,width:250},button:{margin:10}}}))((function(e){var a=e.classes,t=e.handleClose,n=e.handleFiledChange,l=e.updateUser,c=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{variant:"h6",id:"modal-title"},"Edit user"),r.a.createElement(D.a,{value:c.login,onChange:n,error:!c.login,id:"login",label:"Login",className:a.textField,margin:"normal",name:"login"}),r.a.createElement(D.a,{value:c.type,onChange:n,id:"login",label:"Type",className:a.textField,margin:"normal",name:"type"}),r.a.createElement("div",null,r.a.createElement(P.a,{variant:"outlined",color:"primary",className:a.button,onClick:l},"Update"),r.a.createElement(P.a,{variant:"outlined",color:"secondary",className:a.button,onClick:t},"Cancel")))})),T=function(e){return fetch("https://api.github.com/users?page=".concat(e.page,"&per_page=").concat(e.perPage),{headers:{Accept:"application/json"}}).then((function(e){return e.json()}))},A=t(54);function R(){var e=Object(A.a)(["\n    margin: 50vh auto;\n    width: 100%;\n    height: 100%;\n"]);return R=function(){return e},e}var W=t(55).a.div(R()),_=t(124),B=function(){return r.a.createElement(W,null,r.a.createElement(_.a,null))},J=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={users:[],user:{},params:{perPage:10,page:1},isOpen:!1,loading:!1,error:!1},e.getUsersFromServer=function(){e.setState({loading:!0}),T(e.state.params).then((function(a){e.setState({users:a})})).catch((function(){e.setState({error:!0})})),e.setState({loading:!1})},e.handleEditClick=function(a){e.setState({isOpen:!0,user:a})},e.handleDeleteClick=function(a){var t=e.state.users.filter((function(e){return e.id!==a.id}));e.setState({users:t})},e.handleClose=function(){e.setState({isOpen:!1,user:{}})},e.handleFiledChange=function(a){var t=a.target,n=t.name,r=t.value;e.setState({user:Object(o.a)(Object(o.a)({},e.state.user),{},Object(i.a)({},n,r))})},e.updateUser=function(){var a=e.state,t=a.user,n=a.users;if(t.login){var r=n.map((function(e){return e.id===t.id?t:e}));e.setState({users:r,isOpen:!1,user:{}})}},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getUsersFromServer()}},{key:"render",value:function(){var e=this,a=this.props.classes,t=this.state,n=t.users,l=t.isOpen,c=t.user,i=t.loading;return t.error?r.a.createElement("div",null,"Something went wrong."):i?r.a.createElement(B,null):r.a.createElement(v.a,{className:a.root},r.a.createElement(p.a,{className:a.table},r.a.createElement(f.a,null,r.a.createElement(b.a,null,r.a.createElement(E.a,null,"User avatar"),r.a.createElement(E.a,null,"Login"),r.a.createElement(E.a,null,"Type"),r.a.createElement(E.a,{align:"right"},"Edit"),r.a.createElement(E.a,{align:"right"},"Delete"))),r.a.createElement(h.a,null,n.map((function(t){return r.a.createElement(b.a,{key:t.id},r.a.createElement(E.a,{component:"th",scope:"row"},r.a.createElement(O.a,{alt:"Remy Sharp",src:t.avatar_url,className:a.avatar})),r.a.createElement(E.a,null,t.login),r.a.createElement(E.a,null,t.type),r.a.createElement(E.a,{align:"right"},r.a.createElement(j.a,{"aria-label":"Delete",onClick:function(){return e.handleEditClick(t)}},r.a.createElement(S.a,null))),r.a.createElement(E.a,{align:"right"},r.a.createElement(j.a,{"aria-label":"Delete",onClick:function(){return e.handleDeleteClick(t)}},r.a.createElement(w.a,null))))})))),r.a.createElement(x,{children:L,handleClose:this.handleClose,handleFiledChange:this.handleFiledChange,updateUser:this.updateUser,isOpen:l,user:c}))}}]),t}(r.a.Component),M=Object(g.a)((function(){return{root:{marginTop:3,padding:40,overflowX:"auto"},table:{minWidth:700},avatar:{margin:10}}}))(J),X=t(18),I=t(44),$=t.n(I),q=t(59),z=function(){var e=Object(n.useState)({users:[],page:0,perPage:10}),a=Object(X.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(!1),c=Object(X.a)(l,2),i=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(X.a)(u,2),d=m[0],g=m[1],p=function(){var e=Object(q.a)($.a.mark((function e(){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),g(!1),e.prev=2,e.next=5,T({page:t.page,perPage:t.perPage});case 5:a=e.sent,r((function(e){return Object(o.a)(Object(o.a)({},e),{},{users:a})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),g(!0);case 12:s(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p()}),[]),[{state:t,loading:i,error:d},r]},G=Object(g.a)((function(){return{root:{marginTop:50,padding:40,overflowX:"auto"},table:{minWidth:700},avatar:{margin:10}}}))((function(e){var a=e.classes,t=Object(n.useState)(!1),l=Object(X.a)(t,2),c=l[0],s=l[1],u=Object(n.useState)({}),m=Object(X.a)(u,2),d=m[0],g=m[1],C=z(),y=Object(X.a)(C,2),k=y[0],F=k.state,N=k.loading,U=k.error,D=y[1];return U?r.a.createElement("div",null,"Something went wrong."):N?r.a.createElement(B,null):r.a.createElement(v.a,{className:a.root},r.a.createElement(p.a,{className:a.table},r.a.createElement(f.a,null,r.a.createElement(b.a,null,r.a.createElement(E.a,null,"User avatar"),r.a.createElement(E.a,null,"Login"),r.a.createElement(E.a,null,"Type"),r.a.createElement(E.a,{align:"right"},"Edit"),r.a.createElement(E.a,{align:"right"},"Delete"))),r.a.createElement(h.a,null,F.users.map((function(e){return r.a.createElement(b.a,{key:e.id},r.a.createElement(E.a,{component:"th",scope:"row"},r.a.createElement(O.a,{alt:"Remy Sharp",src:e.avatar_url,className:a.avatar})),r.a.createElement(E.a,null,e.login),r.a.createElement(E.a,null,e.type),r.a.createElement(E.a,{align:"right"},r.a.createElement(j.a,{"aria-label":"Delete",onClick:function(){return function(e){s(!0),g(e)}(e)}},r.a.createElement(S.a,null))),r.a.createElement(E.a,{align:"right"},r.a.createElement(j.a,{"aria-label":"Delete",onClick:function(){return function(e){var a=F.users.filter((function(a){return a.id!==e.id}));D(Object(o.a)(Object(o.a)({},F),{},{users:a}))}(e)}},r.a.createElement(w.a,null))))})))),r.a.createElement(x,{children:L,handleClose:function(){s(!1),g({})},handleFiledChange:function(e){var a=e.target,t=a.name,n=a.value;g(Object(o.a)(Object(o.a)({},d),{},Object(i.a)({},t,n)))},updateUser:function(){var e=F.users;if(d.login){var a=e.map((function(e){return e.id===d.id?d:e}));D(Object(o.a)(Object(o.a)({},F),{},{users:a})),s(!1)}},isOpen:c,user:d}))}));var H=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(M,null),r.a.createElement(G,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[78,1,2]]]);
//# sourceMappingURL=main.1e6a57f9.chunk.js.map